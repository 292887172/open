<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>示例</title>
    <link rel="stylesheet" href="/static/layui/css/layui.css">
    <style>
        .layui-form-pane .layui-form-label{
            margin-right: 11px;
        }
    </style>
</head>
<body>
<div style="padding: 3%">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
  <legend>协议帧定义</legend>
</fieldset>
<form class="layui-form layui-form-pane" action="">
  <div class="layui-input-inline" style="margin-bottom: 20px">
          <select name="quiz1">
              <option value="" selected>MCU到屏端</option>

          </select>
  </div>
  <div class="layui-form-item">
      <label class="layui-form-label">帧头</label>
      <div class="layui-input-inline">
          <select name="quiz1">
              <option value="" selected>请选择长度</option>
              <option value="1">1Byte</option>
              <option value="2">2Byte</option>
              <option value="3">3Byte</option>
              <option value="3">4Byte</option>
          </select>
      </div>
      <div class="layui-input-inline">
          <input type="text" name="title" autocomplete="off" placeholder="请输入传输值" class="layui-input">
      </div>
  </div>

  <div class="layui-form-item">
      <label class="layui-form-label">数据域</label><button class="layui-btn  layui-btn-warm">编辑</button>
  </div>

  <div class="layui-form-item">
      <label class="layui-form-label">校验</label>
      <div class="layui-input-inline">
          <select name="quiz1">
              <option value="" selected>选择算法</option>
              <option value="sum">SUM和校验</option>
              <option value="crc-16">CRC16</option>

          </select>
      </div>
      <div class="layui-input-inline">
          <select name="quiz1">
              <option value="" selected>请选择长度</option>
              <option value="1">1Byte</option>
              <option value="2">2Byte</option>
              <option value="3">3Byte</option>
              <option value="3">4Byte</option>
          </select>
      </div>

      <div class="layui-input-inline">
          <select name="quiz1">
              <option value="" selected>请选择校验开始位</option>
              <option value="1">1Byte</option>
              <option value="2">2Byte</option>
              <option value="3">3Byte</option>
              <option value="3">4Byte</option>
          </select>
      </div>

      <div class="layui-input-inline">
          <select name="quiz1">
              <option value="" selected>请选择校验结束位</option>
              <option value="1">1Byte</option>
              <option value="2">2Byte</option>
              <option value="3">3Byte</option>
              <option value="3">4Byte</option>
          </select>
      </div>

  </div>


  <div class="layui-form-item">
      <div class="layui-input-inline">
          <input type="text" name="title" autocomplete="off" placeholder="名称" class="layui-input">
      </div>
      <div class="layui-input-inline">
          <input type="text" name="title" autocomplete="off" placeholder="标识" class="layui-input">
      </div>
      <div class="layui-input-inline">
          <select name="quiz1">
              <option value="" selected>请选择长度</option>
              <option value="1">1Byte</option>
              <option value="2">2Byte</option>
              <option value="3">3Byte</option>
              <option value="3">4Byte</option>
          </select>
      </div>
      <div class="layui-input-inline">
          <input type="text" name="title" autocomplete="off" placeholder="请输入传输值" class="layui-input">
      </div>
  </div>

  <div class="layui-form-item">
    <button class="layui-btn" lay-submit="" lay-filter="demo2">跳转式提交</button>
  </div>
</form>
</div>
<script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
<script src="/static/layui/layui.all.js"></script>
<script>
    $("#Sure").click(function () {
        var frame = $("#exampleInputName2").val();
        if (frame){
            if(frame.length%2!=0){
                alert('示例帧长度必须为偶数')
            }
            else{
                frame_type = $("#frame-type").val();
                frame_type_text = $("#frame-type").find("option:selected").text();
                frame_length = parseInt($("#frame-length").val());
                tmp1 = frame.substr(0, frame_length*2);
                tmp2 = frame.slice(frame_length*2);
                $("#exampleInputName2").val(tmp2);
                html = '<div class="pre-item" id="'+frame_type+'"><p>'+frame_type_text+'</p><p>'+tmp1+'</p></div>'
                $("#frame-pre").append(html);
                $("#frame-type option[value="+frame_type+"]").remove();
            }

        }
        else{
            alert('请输入示例帧')
        }
    })
</script>
</body>
</html>