{% extends 'product/base.tpl' %}
{% load staticfiles %}
{% load filter %}
{% block title %}
    首页
{% endblock %}
{% block style %}
    <link rel="stylesheet" href="{% static 'css/center/dev.css' %}"/>
    <link rel="stylesheet" href="/static/css/product/bootbox.css">

    <style>
        .cnt_box p.btn {
            width: 100%;
        }
        dt {
            font-weight: initial !important;
        }

        .error {
            display: inline-block;
            padding: 0 0 0 16px;
            background: url("{% static 'image/ico_error.png' %}") left center no-repeat !important;
            color: #b40000;
            font-size: 12px;
        }

        .success {
            background: initial !important;
        }

        .sel1 {
            border: 1px solid #999;
            border-radius: 4px;
            padding: 5px;
            height: 32px;
            color: #999;
            min-width: 284px;
        }

        a {
            cursor: pointer;
        }
        .ui-submit-btn:hover{
            color: #fff;
            opacity: 0.85;
        }
        .ui-submit-btn {
            width: 295px;
            height: 55px;
            margin-top: 10px;
            font-size: 17px;

            border-radius: 8px;
            color: #fff;
            background: #ff6202;
        }

        .ui-sub-p {
            width: 100%;
            text-align: center;

        }

        .disable {
            background: #bbb;
        }
    .wrap{
        background: #fff;
    }
    .nav-current{
            text-decoration:none; border-bottom: 3px solid #ff6202;height: 35px;
        }
    .ui-sub-left{
        float: left;
        width: 49%;
        min-height: 400px;
        border: 1px solid #eee;
    }
    .wrap .cnt_box{
        margin: 0;
    }
    .ui-sub-right{
        float: right;
        width: 49%;
        min-height: 400px;
        border: 1px solid #eee;
    }
    .sub-title{
        width: 100%;
        font-size: 25px;
        text-align: center;
    }
    .ui-edit-txt{
        border: 0!important;
    }
    .btn-edit{
        float: right;
        margin: 3px 10px 0 0;
    }
    .ui-sub-item{
        display: none;
    }
    .container{
        margin-top: 90px;
    }
    </style>

{% endblock %}

{% block menu %}
    {% create_menu 0 user.account_id %}
{% endblock %}
{% block content %}
    <div class="container">
        <div class="wrap">
            <div class="cnt_box">
                {% if user.developer.developer_id %}
                    {% if user.developer.developer_check_status == -1 %}
                        <form id="form1" method="post">

                        <dl style="margin-bottom: 45px">
                            <dt class="sub-title" style="width: 100%;text-align: center;font-size: 25px">完善开发者信息</dt>

                            <p style="text-align: center">为账号快速审核，请您真实、准确填写如下信息</p>
                        </dl>
                        <div class="ui-sub-left">
                            <h3>公司/团队信息</h3>
                            <dl>
                                <dt><span>*</span>公司/团队名称：</dt>
                                <dd><label for="inName"></label><input type="text" name="coName" id="inName" class="txt"
                                                                       value="{{ user.developer.developer_inc|is_none }}"
                                                                       onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMsgName(this,true,64,'公司/团队名称'));"
                                                                       maxlength="64">
                                    <span id="coNameErrorId" class="error"></span></dd>
                                <dt>公司/团队网址：</dt>
                                <dd><label for="inNetUrl"></label><input type="text" name="coNetUrl" id="inNetUrl" class="txt" value="{{ user.developer.developer_site|is_none }}"
                                           onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyNetUrl(this,false,255))"
                                           maxlength="255">
                                    <span id="coNetUrlErrorId" class=""></span></dd>
                                <dt>公司/团队所在地：</dt>
                                <dd><label for="inAddress"></label><input type="text" name="coAddress" id="inAddress" class="txt" value="{{ user.developer.developer_address|is_none }}"
                                           onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerify(this,false,255))"
                                           maxlength="255">
                                    <span id="coAddressErrorId" class=""></span></dd>
                                <dt><span>*</span>开发团队人数：</dt>
                                <dd><label for="inDevScale"></label><input type="text" name="coDevScale" id="inDevScale" value="{{ user.developer.developer_person|is_none }}" class="txt"
                                           onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMsgName(this,true,64,'开发团队人数'))"
                                           maxlength="64">
                                    <span id="coDevScaleErrorId" class="error"></span></dd>
                            </dl>
                        </div>
                        <div class="ui-sub-right">
                            <h3>联系人信息</h3>
                            <dl>
                                <dt><span>*</span>联系人姓名：</dt>
                                <dd><label for="inContactName"></label><input type="text" name="coContactName" id="inContactName" class="txt" value="{{ user.developer.developer_realname|is_none }}"
                                           onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMsgName(this,true,64,'联系人姓名'))"
                                           maxlength="64">
                                    <span id="coContactNameErrorId" class="error"></span></dd>
                                <dt><span>*</span>联系人职务：</dt>
                                <dd><label for="inContactRole"></label><input type="text" name="coContactRole" id="inContactRole" class="txt" value="{{ user.developer.developer_job|is_none }}"
                                           onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMsgName(this,true,64,'联系人职务'))"
                                           maxlength="64">
                                    <span id="coContactRoleErrorId" class="error"></span></dd>
                                <dt><span>*</span>手机：</dt>
                                <dd><label for="inContactMobile"></label><input type="text" name="coContactMobile" id="inContactMobile" class="txt" value="{{ user.developer.developer_mobile|is_none }}"
                                           onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMobile(this,true,11))"
                                           maxlength="11">
                                    <span id="coContactMobileErrorId" class="error"></span></dd>

                                <dt><span>*</span>邮箱：</dt>
                                <dd><label for="inEmail"></label><input type="text" name="devEmail" id="inEmail" class="txt" value="{{ user.developer.developer_email|is_none }}"
                                           onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyEmail(this,true,64))"
                                           maxlength="64">
                                    <span id="devEmailErrorId" class="error"></span></dd>
                                <!--
                                    <dt><span>*</span>邮箱验证码：</dt>
                                    <dd><label for="inCode"></label><input type="text" name="devCode" id="inCode" class="txt short" value="" maxlength="6"
                                               onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyDevCode(this,6))">
                                        <a id="getDevCodeId">获取邮箱验证码</a><span
                                                id="devCodeMsgId"></span>
                                        &nbsp;&nbsp;&nbsp;&nbsp;<span id="devCodeErrorId" class="error"></span>
                                    </dd>
                                -->

                            </dl>
                        </div>


                        <dl>

                            <dd style="text-align: center;margin-left: 20px"><label><input type="checkbox" name="agree" id="agree" checked=""
                                              onclick="DevAppInfo.doVerifyAgree(this)">我已阅读并同意<a href="view_rule"
                                                                                                 target="_blank">《53iq智能云开发者协议》</a></label>
                                &nbsp;&nbsp; <span id="agreeErrorId" class="" style="display:none;">请接受服务条款</span>
                            </dd>

                        </dl>

                        <p class="ui-sub-p">
                            <button type="button" id="submitBtn" class="ui-submit-btn btn disable" disabled>提交</button>
                            &nbsp;&nbsp;<span id="ErrorId" style="color:red"></span>
                        </p>
                    </form>
                    {% else %}
                        <!--已经审核通过，可以修改信息-->
                        <form id="form1" method="post">
                        <dl style="margin-bottom: 30px">
                            <dt class="sub-title" style="width: 100%;text-align: center;font-size: 25px">账号信息</dt>
                        </dl>
                    <div class="ui-sub-left">
                        <h3>公司/团队信息<button type="button" class="btn btn-default btn-edit">编辑</button></h3>
                        <dl>
                            <dt><span>*</span>公司/团队名称：</dt>
                            <dd><input disabled="disabled" type="text" name="coName" id="inName" class="txt ui-edit-txt"
                                                                       value="{{ user.developer.developer_inc|is_none }}"
                                                                       onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMsgName(this,true,64,'公司/团队名称'));"
                                                                       maxlength="64">
                                <input disabled="disabled" type="hidden" name="coUpdate" id="inUpdate" class="txt ui-edit-txt"
                                                                       value="更新" maxlength="64">
                                <span id="coNameErrorId" class="error"></span>
                            </dd>
                            <dt>公司/团队网址：</dt>
                            <dd><input type="text" name="coNetUrl" id="inNetUrl" class="txt ui-edit-txt" value="{{ user.developer.developer_site|is_none }}"
                                           onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyNetUrl(this,false,255))"
                                           maxlength="255">
                                    <span id="coNetUrlErrorId" class=""></span></dd>
                            <dt>公司/团队所在地：</dt>
                            <dd><input type="text" name="coAddress" id="inAddress" class="txt ui-edit-txt" value="{{ user.developer.developer_address|is_none }}"
                                           onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerify(this,false,255))"
                                           maxlength="255">
                                    <span id="coAddressErrorId" class=""></span></dd>
                            <dt><span>*</span>开发团队人数：</dt>
                            <dd><input type="text" name="coDevScale" id="inDevScale" value="{{ user.developer.developer_person|is_none }}" class="txt ui-edit-txt"
                                           onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMsgName(this,true,64,'开发团队人数'))"
                                           maxlength="64">
                                    <span id="coDevScaleErrorId" class="error"></span></dd>
                        </dl>
                    </div>
                    <div class="ui-sub-right">
                        <h3>联系人信息<button type="button" class="btn btn-default btn-edit">编辑</button></h3>
                        <dl>
                            <dt><span>*</span>联系人姓名：</dt>
                            <dd><input type="text" name="coContactName" id="inContactName" class="txt ui-edit-txt" value="{{ user.developer.developer_realname|is_none }}"
                                           onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMsgName(this,true,64,'联系人姓名'))"
                                           maxlength="64">
                                    <span id="coContactNameErrorId" class="error"></span></dd>
                            <dt><span>*</span>联系人职务：</dt>
                            <dd><label for="inContactRole"></label><input type="text" name="coContactRole" id="inContactRole" class="txt ui-edit-txt" value="{{ user.developer.developer_job|is_none }}"
                                           onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMsgName(this,true,64,'联系人职务'))"
                                           maxlength="64">
                                    <span id="coContactRoleErrorId" class="error"></span></dd>
                            <dt><span>*</span>手机：</dt>
                            <dd><label for="inContactMobile"></label><input type="text" name="coContactMobile" id="inContactMobile" class="txt ui-edit-txt" value="{{ user.developer.developer_mobile|is_none }}"
                                           onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMobile(this,true,11))"
                                           maxlength="11">
                                    <span id="coContactMobileErrorId" class="error"></span></dd>
                            <dt><span>*</span>邮箱：</dt>
                            <dd><label for="inEmail"></label><input type="text" name="devEmail" id="inEmail" class="txt ui-edit-txt" value="{{ user.developer.developer_email|is_none }}"
                                           onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyEmail(this,true,64))"
                                           maxlength="64">
                                    <span id="devEmailErrorId" class="error"></span></dd>
                        </dl>
                    </div>

                        <dl class="ui-sub-item">

                            <dd style="text-align: center;margin-left: 20px"><label><input type="checkbox" name="agree" id="agree" checked=""
                                              onclick="DevAppInfo.doVerifyAgree(this)">我已阅读并同意<a href="view_rule"
                                                                                                 target="_blank">《53iq智能云开发者协议》</a></label>
                                &nbsp;&nbsp; <span id="agreeErrorId" class="" style="display:none;">请接受服务条款</span>
                            </dd>

                        </dl>

                        <p class="ui-sub-p ui-sub-item">
                            <button type="button" id="submitBtn" class="ui-submit-btn btn" >提交</button>
                            &nbsp;&nbsp;<span id="ErrorId" style="color:red"></span>
                        </p>
                        </form>
{#                    <h3>合作厂商信息</h3>#}
{#                    <dl>#}
{#                        <dt><span>*</span>合作厂商名称：</dt>#}
{#                        <dd>{{ user.developer.developer_factory|is_none }}</dd>#}
{#                        <dt><span>*</span>合作厂商唯一标识：</dt>#}
{#                        <dd>{{ user.developer.developer_symbol|is_none }}</dd>#}
{#                    </dl>#}
                    {% endif %}

                {% else %}
                    <form id="form1" method="post">

                        <dl style="margin-bottom: 45px">
                            <dt class="sub-title" style="width: 100%;text-align: center;font-size: 25px">完善开发者信息</dt>

                            <p style="text-align: center">为账号快速审核，请您真实、准确填写如下信息</p>
                        </dl>
                    <div class="ui-sub-left">
                        <h3>公司/团队信息</h3>
                        <dl>
                            <dt><span>*</span>公司/团队名称：</dt>
                            <dd><label for="inName"></label><input type="text" name="coName" id="inName" class="txt"
                                                                   value=""
                                                                   onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMsgName(this,true,64,'公司/团队名称'));"
                                                                   maxlength="64">
                                <span id="coNameErrorId" class="error"></span></dd>
                            <dt>公司/团队网址：</dt>
                            <dd><label for="inNetUrl"></label><input type="text" name="coNetUrl" id="inNetUrl" class="txt" value=""
                                       onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyNetUrl(this,false,255))"
                                       maxlength="255">
                                <span id="coNetUrlErrorId" class=""></span></dd>
                            <dt>公司/团队所在地：</dt>
                            <dd><label for="inAddress"></label><input type="text" name="coAddress" id="inAddress" class="txt" value=""
                                       onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerify(this,false,255))"
                                       maxlength="255">
                                <span id="coAddressErrorId" class=""></span></dd>
                            <dt><span>*</span>开发团队人数：</dt>
                            <!-- 开发团队人数未输入，默认为空-->
                            {% if user.account_team_persons == None %}
                            <dd><label for="inDevScale"></label><input type="text" name="coDevScale" id="inDevScale" value="" class="txt"
                                       onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMsgName(this,true,64,'开发团队人数'))"
                                       maxlength="64">
                                <span id="coDevScaleErrorId" class="error"></span></dd>
                             <!--开发团队人数已输入，默认填充-->
                             {% else %}
                                <dd><label for="inDevScale"></label><input type="text" name="coDevScale" id="inDevScale" value="{{ user.account_team_persons }}" class="txt"
                                       onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMsgName(this,true,64,'开发团队人数'))"
                                       maxlength="64">
                                <span id="coDevScaleErrorId" class="error"></span></dd>
                             {% endif %}
                        </dl>
                    </div>
                    <div class="ui-sub-right">
                        <h3>联系人信息</h3>
                        <dl>
                            <dt><span>*</span>联系人姓名：</dt>
                            <dd><label for="inContactName"></label><input type="text" name="coContactName" id="inContactName" class="txt" value=""
                                       onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMsgName(this,true,64,'联系人姓名'))"
                                       maxlength="64">
                                <span id="coContactNameErrorId" class="error"></span></dd>
                            <dt><span>*</span>联系人职务：</dt>
                            <dd><label for="inContactRole"></label><input type="text" name="coContactRole" id="inContactRole" class="txt" value=""
                                       onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMsgName(this,true,64,'联系人职务'))"
                                       maxlength="64">
                                <span id="coContactRoleErrorId" class="error"></span></dd>
                            <dt><span>*</span>手机：</dt>
                            <dd><label for="inContactMobile"></label><input type="text" name="coContactMobile" id="inContactMobile" class="txt" value="{{ user.account_id|check_isphone_mail:'phone' }}"
                                       onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMobile(this,true,11))"
                                       maxlength="11">
                                <span id="coContactMobileErrorId" class="error"></span></dd>

                            <dt><span>*</span>邮箱：</dt>
                            <dd><label for="inEmail"></label><input type="text" name="devEmail" id="inEmail" class="txt" value="{{ user.account_id|check_isphone_mail:'mail' }}"
                                       onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyEmail(this,true,64))"
                                       maxlength="64">
                                <span id="devEmailErrorId" class="error"></span></dd>
                            <!--
                            <dt><span>*</span>邮箱验证码：</dt>
                            <dd><label for="inCode"></label><input type="text" name="devCode" id="inCode" class="txt short" value="" maxlength="6"
                                       onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyDevCode(this,6))">
                                <a id="getDevCodeId">获取邮箱验证码</a><span
                                        id="devCodeMsgId"></span>
                                &nbsp;&nbsp;&nbsp;&nbsp;<span id="devCodeErrorId" class="error"></span>
                            </dd>
                            -->

                        </dl>
                    </div>

{#                        <h3 >合作厂商信息</h3>#}
                        <dl >
{#                            {% if fac_info %}#}
{#                            <dt><span>*</span>合作厂商名称：</dt>#}
{#                            <dd><label for="inFac"></label><input style="background: #aaa" type="text" name="coFac" id="inFac" class="txt" value="{{ fac_info.factory_name|is_none }}" disabled#}
{#                                       maxlength="64">#}
{#                                <span id="coFacErrorId" class="error"></span></dd>#}
{#                            <dt><span>*</span>合作厂商唯一标识：</dt>#}
{#                            <dd><label for="inFacUid"></label><input style="background: #aaa" type="text" name="coFacUid" id="inFacUid" class="txt" value="{{ fac_info.factory_uid|is_none }}" disabled#}
{#                                       maxlength="255">#}
{#                                <span id="coFacUidErrorId" class="error success"></span></dd>#}
{#                            <dt></dt>#}
{#                            {% else %}#}
{#                            <dt><span>*</span>合作厂商名称：</dt>#}
{#                            <dd><label for="inFac"></label><input type="text" name="coFac" id="inFac" class="txt" value=""#}
{#                                       onblur="DevAppInfo.changeButtonCSS(DevAppInfo.doVerifyMsgName(this,true,64,'合作厂商名称'))"#}
{#                                       maxlength="64">#}
{#                                <span id="coFacErrorId" class="error"></span><a href="#" onclick="DevAppInfo.sAlert('<label>1.厂商唯一标识由服务器统一分配，开发者可以向相关厂家获取</label><label>2.普通开发者可以使用以下测试号，厂家名称:星际网络，唯一标识：53iq0002</label>')">如何获得厂商唯一标识？</a></dd>#}
{#                            <dt><span>*</span>合作厂商唯一标识：</dt>#}
{#                            <dd><label for="inFacUid"></label><input type="text" name="coFacUid" id="inFacUid" class="txt" value=""#}
{#                                       onblur="show_error_msg(this,'coFacUidErrorId','请输入正确的合作厂商标识')"#}
{#                                       maxlength="255">#}
{#                                <span id="coFacUidErrorId" class="error"></span></dd>#}
{#                            <dt></dt>#}
{##}
{#                            {% endif %}#}
                            <dd style="text-align: center;margin-left: 20px"><label><input type="checkbox" name="agree" id="agree" checked=""
                                              onclick="DevAppInfo.doVerifyAgree(this)">我已阅读并同意<a href="view_rule"
                                                                                                 target="_blank">《53iq智能云开发者协议》</a></label>
                                &nbsp;&nbsp; <span id="agreeErrorId" class="" style="visibility:hidden;">请接受服务条款</span>
                            </dd>

                        </dl>

                        <p class="ui-sub-p">
                            <button type="button" id="submitBtn" class="ui-submit-btn btn disable" disabled>提交</button>
                            &nbsp;&nbsp;<span id="ErrorId" style="color:red"></span>
                        </p>
                    </form>
                {% endif %}
            </div>

        </div>
    </div>
    <div class="mask" id="mask" style="display:none"></div>
    <div class="pop_win" id="pop_win" style="display:none">
        <div></div>
        <p id="urlId" style="display: none"></p>
        <p><a href="javascript:void(0)" onclick="DevAppInfo.cAlert()">确定</a></p>
    </div>

{% endblock %}

{% block end_script %}
    <script type="text/javascript" language="JavaScript" src="{% static 'js/center/devApp.js' %}"
            charset="utf-8"></script>
    <script src="/static/js/product/bootbox.js"></script>
    <script>


        function show_error_msg(self, id, msg) {
            if ($(self).val().length == 0) {
                $("#" + id).text(msg);

            }
            else {
                $("#" + id).text("");

            }
        }
        $(function () {
            $(".btn-edit").click(function () {
                // 编辑
                $(".ui-sub-item").show();
                $(this).parent().parent().find('input').removeAttr('disabled').removeClass('ui-edit-txt')
            });
            $("#inFac").blur(function () {
                var fac_uid = $("#inFacUid").val();
                var fac_name = $("#inFac").val();
                if (fac_name != '' && fac_uid != '') {
                    $.post('{% url 'check_fac_uuid' %}', {'fac_name': fac_name, 'fac_uuid': fac_uid}, function (data) {
                        if (data['status'] == 'ok') {
                            $("#coFacUidErrorId").addClass('success').html('<img src="{% static 'image/sucess.png' %}">');
                            DevAppInfo.changeButtonCSS(true)
                        }
                        else {
                            $("#coFacUidErrorId").removeClass('success').text('厂家标识不正确，请核对');
                        }
                    }, 'json');
                }
            });
            $("#inFacUid").blur(function () {
                var fac_uid = $("#inFacUid").val();
                var fac_name = $("#inFac").val();
                if (fac_name == null || fac_name == '') {
                    $("#coFacErrorId").text('请输入合作厂商名称');

                }
                else {
                    $("#coFacErrorId").text('');
                    $.post('{% url 'check_fac_uuid' %}', {'fac_name': fac_name, 'fac_uuid': fac_uid}, function (data) {
                        if (data['status'] == 'ok') {
                            $("#coFacUidErrorId").addClass('success').html('<img src="{% static 'image/sucess.png' %}">');

                            DevAppInfo.changeButtonCSS(true)

                        }
                        else {
                            $("#coFacUidErrorId").removeClass('success').text('厂家标识不正确，请核对');
                        }
                    }, 'json');
                }
            });
            $("#getDevCodeId").click(function () {
                var email = $("#inEmail").val();
                if (DevAppInfo.isNomalEmail(email)) {
                    $("#devEmailErrorId").text("");
                    $("#getDevCodeId").text("正在发送");
                    $("#devCodeMsgId").html('<img src="{% static 'image/loading.gif' %}">');
                    $.post('{% url 'send_email_code' %}', {'email': email}, function (data) {
                        if (data['result'] == 'ok') {
                            bootbox.alert('验证码已发送到邮箱')
                        }
                        else {
                            bootbox.alert('验证码发送失败，确认邮箱地址是否正确')

                        }
                        $("#getDevCodeId").text("获取邮箱验证码");
                        $("#devCodeMsgId").html("");
                    }, 'json');


                }
                else {

                    $("#devEmailErrorId").text('请输入正确的邮箱地址')
                }

            });
            $("#submitBtn").click(function () {
                if (DevAppInfo.changeButtonCSS(true)) {

                        var user_account = "{{ user.account_id }}";
                        var data_obj = {
                            'user': user_account,
                            'user_from': $("#user_from").val(),
                            'coName': $("#inName").val(),
                            'coNetUrl': $("#inNetUrl").val(),
                            'coAddress': $("#inAddress").val(),
                            'coDevScale': $("#inDevScale").val(),
                            'coContactName': $("#inContactName").val(),
                            'coContactRole': $("#inContactRole").val(),
                            'coContactMobile': $("#inContactMobile").val(),
                            'coContactPhone': $("#inContactPhone").val(),
                            'coContactQq': $("#inContactQq").val(),
                            'devEmail': $("#inEmail").val(),
                            'devCode': $("#inCode").val(),
                            'factory_name': $("#inFac").val(),
                            'coFacUid': $("#inFacUid").val(),
                            'coUpdate': $("#inUpdate").val()
                        };
                        jQuery.ajax({
                            url: location.href,
                            type: "POST",
                            data: data_obj,
                            error: function () {
                                console.log("error");
                                $("#submitBtn").text('提交');
                            },
                            beforeSend: function () {
                                $("#submitBtn").text('正在提交...');

                            },
                            success: function (response) {
                                response = jQuery.parseJSON(response);
{#                                    console.log(response);#}
{#                                    console.log(response['status']);#}
{#                                    console.log(response['msg']);#}
                                if (response['status'] == 'ok') {
                                    $("#submitBtn").text('提交成功...');
                                    location.href="/product/list";
                                }
                                else{
                                    bootbox.alert(response['msg'])
                                    $("#submitBtn").text('提交');
                                }
                            }

                        });
                }
            })
        });


    </script>
    {#    <script src="{% static 'js/center/product.js' %}"></script>#}
{% endblock %}