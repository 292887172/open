{% extends "product/base.tpl" %}

{% load staticfiles %}

{% block title %}
    产品管理
{% endblock %}
{% block style %}
    <link rel="stylesheet" href="{% static 'common/css/app.css' %}" xmlns="http://www.w3.org/1999/html"/>
    <link rel="stylesheet" href="{% static 'common/css/font-awesome.min.css' %}"/>
    <style>
    .wrapper {
        width: 1200px;
        padding: 0;
        margin: 0 auto;
    }
    .mt20 {
        margin-top: 20px;
    }
    .goods span {
        height: 30px;
    }
    .nav > li > a:hover {
        background: transparent;
    }
    .footer{
        margin: 205px auto 0;
    }
    .set-radius{
        background-color: #ccc;
        border: 1px solid #ccc;
        text-align:center;
        height:30px;
        width:30px;
        float: left;
        margin: 19px 19px;
        border-radius: 50%;
        -moz-border-radius: 50%;
        -webkit-border-radius: 50%;
        line-height: 25px;
    }
    .set-create{
        background-color: #ff6202;
        border: 1px solid #ff6202;
        text-align: center;
        margin: 18px;
        height: 31px;
        width: 85px;
        color: #fff;
        border-radius: 12px;

    }
    .set-create:active{
        opacity: 0.85;
    }
    .set-float{
        top: 32px;position: relative;
        float: left;
    }
    .right{
            top: -58px;
            position: relative;
            left: -23%;
    }
    .right div{
        position: relative;
        top: 41px;
        float: left;
        border:2px solid;
        border-color: rgba(0,0,0,0.4);
        padding:3px;
        width: 158px;
        height: 170px;
    }
    .right div img{
        top: 14px;
        position: relative;
        left: 25%;
    }
    .set-sample
    {
        border: 1px solid #999;
        height: 30px;
        width: 100px;
        top: 31px;
        left: 20%;
    }
    .set-sample span{
        margin: 25px;
        font-size: 16px;
    }
    .nav-current{
        text-decoration:none; border-bottom: 3px solid #ff6202;height: 35px;
    }
    </style>
{% endblock %}
{% block menu %}
    <li><a href="{% url 'home' %}">首页</a></li>
    <li class="cur"><a class="nav-current" href="{% url "product/list" %}">产品管理</a></li>
    <li><a href="{% url 'home/guide' %}">开发指南</a></li>
    <li><a rel="nofollow" href="/center?" class="on">帐号管理</a></li>
{% endblock %}
{% block content %}
    <div class="title">
        <div class="wrapper">
            <div style="height: 34px; margin: 11px 0;">
                <div class="col-lg-10">
                    <form class="form-inline" name="productListQueryForm" method="GET" action="">
                        <input type="text" class="form-control" name="search" placeholder="输入产品名称" value="{{ keyword }}">
                        <input type="submit" class="btn btn-md btn-success" value="搜索">
                        {% if keyword %}
                        <a href="{% url 'product/list' %}" class="btn btn-md btn-success">显示全部</a>
                        {% endif %}
                    </form>
                </div>
                <div class="col-lg-2">
                    <a href="{% url "product/add" %}" class="btn btn-s-lg btn-success">
                        <i class="fa fa-plus"></i>
                        <span class="text">添加产品</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="wrapper">
        <!-- 已发布的产品 -->
        <h4 class="title-sub"><span class="old">产品列表</span></h4>
        <div class="goodsBox">
        {% if not  published_apps and not publishing_apps and not failed_apps and not unpublished_apps %}
            <div style="text-align: center">
                <p style="font-size: 20px;color: black"><b>简单几步即可拥有属于你的智能家电产品</b></p>
                <p style="color: #868586;">数百种APP界面随意挑选组合</p>
                <a href="{% url "product/add" %}"><button type="button" class="set-create">创建</button> </a>

            </div>

        {% endif %}
            {% for app in published_apps %}
                <div class="goods-list" style="height: 215px;">
                <div class="status bg-success">已发布</div>
                <dl>
                    <dt>
                        <a href="{% url 'product/main' %}?ID={{ app.app_id }}"><img src="{{ app.app_logo }}" onerror="this.src='{% static "image/global/default.png" %}'" title="产品图标"></a>
                        <a class="del" href="javascript:" id="delProLink" data-id="{{ app.app_id }}"><i></i></a>
                    </dt>
                    <dd>
                        <div class="goods-title"><a href="{% url 'product/main' %}?ID={{ app.app_id }}">{{ app.app_name }}</a></div>
                        <p style="height: 40px;"><span class="label bg-white" style="height: 30px;">{% if app.app_category %}{{ app.app_category }}{% else %}未分类{% endif %}</span></p>
                        <p style="height: 40px;"><span class="label bg-white" style="height: 30px;">{% if app.app_model %}{{ app.app_model }}{% else %}无型号{% endif %}</span></p>
                    </dd>
                </dl>
                </div>
            {% endfor %}


            {% for app in publishing_apps %}
                <div class="goods-list" style="height: 215px;">
                    <div class="status suc">审核中</div>
                    <dl>
                        <dt>
                            <a href="/product/main?ID={{ app.app_id }}"><img src="{{ app.app_logo }}" onerror="this.src='{% static "image/global/default.png" %}'" title="产品图标"></a>
                            <a class="del" href="javascript:" id="delProLink" data-id="{{ app.app_id }}"><i></i></a>
                        </dt>
                        <dd>
                            <div class="goods-title"><a href="{% url 'product/main' %}?ID={{ app.app_id }}">{{ app.app_name }}</a></div>
                            <p style="height: 40px;"><span class="label bg-white" style="height: 30px;">{% if app.app_category %}{{ app.app_category }}{% else %}未分类{% endif %}</span></p>
                            <p style="height: 40px;"><span class="label bg-white" style="height: 30px;">{% if app.app_model %}{{ app.app_model }}{% else %}无型号{% endif %}</span></p>
                        </dd>
                    </dl>
                </div>
            {% endfor %}
            {% for app in unpublished_apps %}
                 <div class="goods-list" style="height: 215px;">
                <div class="status unpublish">未发布</div>
                <dl>
                    <dt>
                        <a href="{% url 'product/main' %}?ID={{ app.app_id }}"><img src="{{ app.app_logo }}" onerror="this.src='{% static "image/global/default.png" %}'" title="产品图标"></a>
                        <a class="del" href="javascript:" id="delProLink" data-id="{{ app.app_id }}"><i></i></a>
                    </dt>
                    <dd>
                        <div class="goods-title"><a href="{% url 'product/main' %}?ID={{ app.app_id }}">{{ app.app_name }}</a></div>
                        <p style="height: 40px;"><span class="label bg-white" style="height: 30px;">{% if app.app_category %}{{ app.app_category }}{% else %}未分类{% endif %}</span></p>
                        <p style="height: 40px;"><span class="label bg-white" style="height: 30px;">{% if app.app_model %}{{ app.app_model }}{% else %}无型号{% endif %}</span></p>
                    </dd>
                </dl>
                </div>
            {% endfor %}
            {% for app in failed_apps %}
                 <div class="goods-list" style="height: 215px;">
                    <div class="status fail">未通过</div>
                    <dl>
                        <dt>
                            <a href="{% url 'product/main' %}?ID={{ app.app_id }}"><img src="{{ app.app_logo }}" onerror="this.src='{% static "image/global/default.png" %}'" title="产品图标"></a>
                            <a class="del" href="javascript:" id="delProLink" data-id="{{ app.app_id }}"><i></i></a>
                        </dt>
                        <dd>
                            <div class="goods-title"><a href="{% url 'product/main' %}?ID={{ app.app_id }}">{{ app.app_name }}</a></div>
                            <p style="height: 40px;"><span class="label bg-white" style="height: 30px;">{% if app.app_category %}{{ app.app_category }}{% else %}未分类{% endif %}</span></p>
                            <p style="height: 40px;"><span class="label bg-white" style="height: 30px;">{% if app.app_model %}{{ app.app_model }}{% else %}无型号{% endif %}</span></p>
                        </dd>
                    </dl>
                </div>
            {% endfor %}
        </div>

        <!-- 未发布的产品 -->
    </div>
    <hr  style="border-top: 1px solid #dddddd;position: relative;top: 59px;margin-bottom: 92px;width: 100%;"/>
    <div class="wrapper">

        <div class="left">
            <h3 style="font-size: 20px;color: #868586"><b>53iq 厨房智能产品开发到量产5步走</b></h3><br>
            <span style="font-size: 16px;display: inline-block;width: 27%;text-align: center;">更有完整的方案，SoC类产品真正免开发</span><br>
            <div class="set-float">
                <img  src="/static/image/product/20180904-2.png"><p>功能定义》</p ><div class="set-radius"><span >1</span></div>
            </div>
            <div class="set-float" >
                <img  src="/static/image/product/20180904-1.png"><p>APP界面》</p><div class="set-radius"><span>2</span></div>
            </div >
            <div class="set-float">
                <img  src="/static/image/product/20180904-5.png"><p>硬件调试》</p><div class="set-radius"><span>3</span></div>
            </div>
            <div class="set-float">
                <img  src="/static/image/product/20180904-4.png"><p>扩展功能》</p><div class="set-radius"><span>4</span></div>
            </div>
            <div class="set-float">
                <img  src="/static/image/product/20180904-3.png"><p>批量投产</p><div class="set-radius"><span>5</span></div>
            </div>
        </div>
        <div class="right">
            <h3 style="float: right;font-size: 20px;color: #868586;"><b>样例方案</b></h3>
            {% for app in default_apps %}
                {% if  forloop.counter == 1 %}
                    <div style="left: 534px;">
                {% elif forloop.counter == 2 %}
                    <div style="left: 559px;">
                {% else  %}
                    <div style="left: 584px;">
                {% endif %}
                <a href="{% url 'product/main' %}?ID={{ app.app_id }}#/{{ app.app_name }}">
                <img src="/static/image/product/20170904-{{ forloop.counter }}.png"></a>
                <div style="border: 1px solid #999;height: 30px;width: 100px;top: 31px;left: 20%;text-align:center"><span >{{ app.app_name }}</span ></div>
                </div>
            {% endfor %}


        </div>

    </div>
    <hr style="border-top: 1px solid #dddddd;position: relative;top: 50px;width: 100%;"/>
{% endblock %}

{% block end_script %}
    <script type="text/javascript" src="{% static "js/product/page_product_list.js" %}"></script>
{% endblock %}